import numpy as np

# Note about orientation

# The two holes by the mount to the frame are at [+-90, 0] - this turns out to be the y-axis
#  [0, +-90] are on the equator, [0, 90] is in the gap
#  [0, 0] is the camera, [180, 0] is opposite - this is the x-axis

# The gap is actually two runs
# [0, 0 -> 90]
# [180, 0 -> 90]

#
# The openscad code to get the positions is
#
#        rotate([angles[0], 0, 0])
#        rotate([0, angles[1], 0])
#
# The code that generated them was
#
#    xy_angle = 180*np.arctan2(point[1], point[0])/np.pi
#    z_angle = 180*np.arcsin(point[2])/np.pi
#
#    s.append(f"\t[{xy_angle}, {z_angle}]")

def calculate_position_from_angles(alpha, beta):
    alpha_rad = np.pi * alpha / 180
    beta_rad = np.pi * beta / 180

    z = np.sin(beta_rad)
    xy_scale = np.sqrt(1 - z*z)

    # y/x = tan(alpha) = sin(alpha) / cos(alpha)
    x = xy_scale * np.cos(alpha_rad)
    y = xy_scale * np.sin(alpha_rad)

    return np.array([x, y, z])

camera_pos = calculate_position_from_angles(0, 0)
mount_pos = calculate_position_from_angles(90, 0), calculate_position_from_angles(-90, 0)

led_angles = [
	[180.0, 0.0],
	[180.0, -15.858765265031135],
	[180.0, 15.858765265031135],
	[-164.54954554951826, -9.349712362025944],
	[-164.54954554951826, 9.349712362025944],
	[164.54954554951826, -9.349712362025944],
	[164.54954554951826, 9.349712362025944],
	[-163.2342645075003, -25.714620272776003],
	[-163.2342645075003, 25.714620272776003],
	[163.2342645075003, -25.714620272776003],
	[163.2342645075003, 25.714620272776003],
	[-148.28253682593197, 0.0],
	[180.0, -31.717466859651456],
	[180.0, 31.717466859651456],
	[148.28253682593197, 0.0],
	[-148.2825257666975, -18.000000338877623],
	[-148.2825257666975, 18.000000338877623],
	[148.2825257666975, -18.000000338877623],
	[148.2825257666975, 18.000000338877623],
	[-167.11302811312058, -43.93007853139858],
	[-167.11302811312058, 43.93007853139858],
	[167.11302811312058, -43.93007853139858],
	[167.11302811312058, 43.93007853139858],
	[-134.6607017083771, -9.243001158065816],
	[-134.6607017083771, 9.243001158065816],
	[134.6607017083771, -9.243001158065816],
	[134.6607017083771, 9.243001158065816],
	[-148.28255141841598, -35.99998213227611],
	[-148.28255141841598, 35.99998213227611],
	[148.28255141841598, -35.99998213227611],
	[148.28255141841598, 35.99998213227611],
	[-130.50069123241968, -25.17123658459812],
	[-130.50069123241968, 25.17123658459812],
	[130.50069123241968, -25.17123658459812],
	[130.50069123241968, 25.17123658459812],
	[-121.71746317406804, 0.0],
	[180.0, -58.282546474924175],
	[180.0, 58.282546474924175],
	[121.71746317406804, 0.0],
	[-148.28252512211395, -54.00000054831551],
	[-148.28252512211395, 54.00000054831551],
	[148.28252512211395, -54.00000054831551],
	[148.28252512211395, 54.00000054831551],
	[-116.70064653500289, -15.06365390564914],
	[-116.70064653500289, 15.06365390564914],
	[116.70064653500289, -15.06365390564914],
	[116.70064653500289, 15.06365390564914],
	[-125.88974048104824, -43.487080885756306],
	[-125.88974048104824, 43.487080885756306],
	[125.88974048104824, -43.487080885756306],
	[125.88974048104824, 43.487080885756306],
	[-110.90515766275047, -30.000000000000004],
	[-110.90515766275047, 30.000000000000004],
	[110.90515766275047, -30.000000000000004],
	[110.90515766275047, 30.000000000000004],
	[-105.85876877154872, 0.0],
	[105.85876877154872, 0.0],
	[-148.28254490733178, -72.0000896854008],
	[-148.28254490733178, 72.0000896854008],
	[148.28254490733178, -72.0000896854008],
	[148.28254490733178, 72.0000896854008],
	[-120.92087875195554, -59.617478680915774],
	[-120.92087875195554, 59.617478680915774],
	[120.92087875195554, -59.617478680915774],
	[120.92087875195554, 59.617478680915774],
	[-99.69372794935383, -15.240188645715467],
	[-99.69372794935383, 15.240188645715467],
	[99.69372794935383, -15.240188645715467],
	[99.69372794935383, 15.240188645715467],
	[-103.03529851168828, -44.59138622775603],
	[-103.03529851168828, 44.59138622775603],
	[103.03529851168828, -44.59138622775603],
	[103.03529851168828, 44.59138622775603],
	[-90.0, 0.0],
	[-90.0, -31.717466859651456],
	[-90.0, 31.717466859651456],
	[-90.0, -58.282546474924175],
	[-90.0, 58.282546474924175],
	[-90.0, -74.1411877779062],
	[-90.0, 74.1411877779062],
	[0.0, -90.0],
	[0.0, 90.0],
	[90.0, -74.1411877779062],
	[90.0, 74.1411877779062],
	[90.0, -58.282546474924175],
	[90.0, 58.282546474924175],
	[90.0, -31.717466859651456],
	[90.0, 31.717466859651456],
	[90.0, 0.0],
	[-76.96470148831172, -44.59138622775603],
	[-76.96470148831172, 44.59138622775603],
	[76.96470148831172, -44.59138622775603],
	[76.96470148831172, 44.59138622775603],
	[-80.30627205064617, -15.240188645715467],
	[-80.30627205064617, 15.240188645715467],
	[80.30627205064617, -15.240188645715467],
	[80.30627205064617, 15.240188645715467],
	[-59.07912124804446, -59.617478680915774],
	[-59.07912124804446, 59.617478680915774],
	[59.07912124804446, -59.617478680915774],
	[59.07912124804446, 59.617478680915774],
	[-31.717455092668214, -72.0000896854008],
	[-31.717455092668214, 72.0000896854008],
	[31.717455092668214, -72.0000896854008],
	[31.717455092668214, 72.0000896854008],
	[-74.14123122845129, 0.0],
	[74.14123122845129, 0.0],
	[-69.09484233724952, -30.000000000000004],
	[-69.09484233724952, 30.000000000000004],
	[69.09484233724952, -30.000000000000004],
	[69.09484233724952, 30.000000000000004],
	[-54.11025951895177, -43.487080885756306],
	[-54.11025951895177, 43.487080885756306],
	[54.11025951895177, -43.487080885756306],
	[54.11025951895177, 43.487080885756306],
	[-63.29935346499711, -15.06365390564914],
	[-63.29935346499711, 15.06365390564914],
	[63.29935346499711, -15.06365390564914],
	[63.29935346499711, 15.06365390564914],
	[-31.71747487788604, -54.00000054831551],
	[-31.71747487788604, 54.00000054831551],
	[31.71747487788604, -54.00000054831551],
	[31.71747487788604, 54.00000054831551],
	[-58.282536825931956, 0.0],
	[0.0, -58.282546474924175],
	[0.0, 58.282546474924175],
	[58.282536825931956, 0.0],
	[-49.49930876758032, -25.17123658459812],
	[-49.49930876758032, 25.17123658459812],
	[49.49930876758032, -25.17123658459812],
	[49.49930876758032, 25.17123658459812],
	[-31.717448581584033, -35.99998213227611],
	[-31.717448581584033, 35.99998213227611],
	[31.717448581584033, -35.99998213227611],
	[31.717448581584033, 35.99998213227611],
	[-45.339298291622896, -9.243001158065816],
	[-45.339298291622896, 9.243001158065816],
	[45.339298291622896, -9.243001158065816],
	[45.339298291622896, 9.243001158065816],
	[-12.886971886879442, -43.93007853139858],
	[-12.886971886879442, 43.93007853139858],
	[12.886971886879442, -43.93007853139858],
	[12.886971886879442, 43.93007853139858],
	[-31.7174742333025, -18.000000338877623],
	[-31.7174742333025, 18.000000338877623],
	[31.7174742333025, -18.000000338877623],
	[31.7174742333025, 18.000000338877623],
	[-31.717463174068047, 0.0],
	[0.0, -31.717466859651456],
	[0.0, 31.717466859651456],
	[31.717463174068047, 0.0],
	[-16.765735492499683, -25.714620272776003],
	[-16.765735492499683, 25.714620272776003],
	[16.765735492499683, -25.714620272776003],
	[16.765735492499683, 25.714620272776003],
	[-15.450454450481724, -9.349712362025944],
	[-15.450454450481724, 9.349712362025944],
	[15.450454450481724, -9.349712362025944],
	[15.450454450481724, 9.349712362025944],
	[0.0, -15.858765265031135],
	[0.0, 15.858765265031135],
	[0.0, 0.0]]

if __name__ == "__main__":
    print("Camera position:", camera_pos)
    print("Mount position:", mount_pos)